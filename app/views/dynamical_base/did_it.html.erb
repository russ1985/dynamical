<% content_for :head do %>
<script type="text/javascript" src="/javascripts/codemirror.js" ></script>
<script type="text/javascript" src="/javascripts/ruby.js" ></script>

<link href='/stylesheets/codemirror.css' rel='stylesheet' type='text/css' />
<%end%>

<center>
  <div class="mono">
    <span>I did</span>
	<br/>
	<%=@what_to_do%>
	<br/>
	<span>and the result is...</span>
  </div>
</center>
  <div style="margin-left: auto ;margin-right: auto ;width: 675px ;border: solid 1px black;height:300px;overflow:auto;">
    <%=@result%>
  </div>
  <br/>
  <center>
  <div class="mono">
    <span>I did it like this</span>
  </div>
  </center>
  <%= form_tag '/dynamical/thats_how' do %>
  <div style="margin-left: auto ;margin-right: auto ;width: 675px ;">
    <div style="width:675px;border:solid 1px black;">
      <textarea id="code" name="how">
        <%=@how%>
      </textarea>
    </div>
  </div>
  <center>
    <div style="width:140px;">
      <input type="submit" value="Do It Like This" class="black2 vista" href="#" style="float:left;" />
    </div>
  </center>
  <input type='hidden' name='what_to_do' value='<%=@what_to_do%>' />
  <%end%>
  <br/><br/><br/>
  <%= render :partial => '/shared/do_it_form' %>
  <script>
    var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
      mode: "text/x-ruby",
      tabMode: "indent",
      matchBrackets: true,
	  lineNumbers: true,
      indentUnit: 4,
	  lineWrapping: true
    });
</script>
